# 591-Notion è‡ªå‹•åŒ–ç³»çµ± - Claude Code ç‰ˆæœ¬

## å°ˆæ¡ˆè¨­å®šæª”

é€™æ˜¯ä¸€å€‹å°ˆç‚ºå¯µç‰©å‹å–„ç§Ÿå±‹éœ€æ±‚è¨­è¨ˆçš„æ™ºæ…§è‡ªå‹•åŒ–ç³»çµ±ï¼Œæ•´åˆäº†å®Œæ•´çš„SuperClaude v2.0.1è¨­å®šæª”ã€‚

### SuperClaude æ•´åˆè¨­å®š

```yaml
@include .superclaude.yml#core
@include .superclaude.yml#project
@include .superclaude.yml#task_management
@include .superclaude.yml#development
```

## å°ˆæ¡ˆæ¶æ§‹èªªæ˜

### æ ¸å¿ƒæ¨¡çµ„
- **NotionService** (`src/services/notionService.js`): Notion APIæ•´åˆèˆ‡è³‡æ–™åº«æ“ä½œ
- **Rental591Scraper** (`src/scrapers/rental591Scraper.js`): 591ç¶²ç«™çˆ¬èŸ²å¼•æ“
- **RentalFilter** (`src/processors/rentalFilter.js`): æ™ºæ…§ç¯©é¸èˆ‡è©•åˆ†ç³»çµ±
- **RentalAutomationSystem** (`src/index.js`): ä¸»è¦åŸ·è¡Œç³»çµ±
- **RentalScheduler** (`src/scheduler.js`): è‡ªå‹•æ’ç¨‹ç®¡ç†

### æŠ€è¡“æ£§
- **Runtime**: Node.js v18+
- **Scraping**: Puppeteer v24+
- **Database**: Notion API v4+
- **Scheduling**: node-cron v4+
- **Environment**: dotenv v17+

## åŸ·è¡ŒæŒ‡ä»¤

### åŸºæœ¬åŸ·è¡Œ
```bash
npm run quick    # å¿«é€Ÿæ¸¬è©¦ (3ç­†æˆ¿æº)
npm run test     # å®Œæ•´æ¸¬è©¦ (5ç­†æˆ¿æº) 
npm start        # æ­£å¼åŸ·è¡Œ (20ç­†æˆ¿æº)
```

### æ’ç¨‹åŸ·è¡Œ
```bash
npm run scheduler           # é è¨­æ’ç¨‹ (09:00, 18:00)
npm run scheduler:frequent  # é«˜é »æ’ç¨‹ (æ¯2å°æ™‚)
npm run scheduler:now       # ç«‹å³åŸ·è¡Œä¸€æ¬¡
```

### é–‹ç™¼æ¨¡å¼
```bash
npm run dev     # é–‹ç™¼æ¨¡å¼ (è‡ªå‹•é‡å•Ÿ)
node test.js    # æ¨¡çµ„æ¸¬è©¦
```

## è¨­å®šæª”èªªæ˜

### ç’°å¢ƒè®Šæ•¸ (.env)
```env
NOTION_API_KEY=your_notion_api_key
NOTION_DATABASE_ID=your_database_id
```

### æœå°‹åƒæ•¸é è¨­å€¼
```javascript
{
  region: '1',        // å°åŒ—å¸‚
  kind: '2',          // ç¨ç«‹å¥—æˆ¿  
  minPrice: 8000,     // æœ€ä½ç§Ÿé‡‘
  maxPrice: 15000,    // æœ€é«˜ç§Ÿé‡‘
  petFriendly: true,  // å¯µç‰©å‹å–„
  mrtDistance: 15,    // æ·é‹è·é›¢
  limit: 20          // æ•¸é‡é™åˆ¶
}
```

## è©•åˆ†ç³»çµ±

### è©•åˆ†æ¨™æº– (ç¸½åˆ†100åˆ†)
- **åƒ¹æ ¼è©•åˆ†** (30åˆ†): é ç®—ç¬¦åˆåº¦
- **å¿…è¦è¨­å‚™** (40åˆ†): è®Šé »å†·æ°£ã€å†°ç®±ã€å°å¤–çª—ã€æ´—è¡£æ©Ÿ
- **å¯µç‰©å‹å–„** (20åˆ†): å…è¨±é¤Šå¯µç‰©
- **åœ°é»è©•åˆ†** (10åˆ†): æ·é‹è·é›¢ã€åå¥½åœ°å€
- **æ’é™¤æ¢ä»¶** (-50åˆ†): ç„¡å°å¤–çª—ã€å£ç™Œç­‰

### æ¨è–¦ç­‰ç´š
- 85-100åˆ†: æ¥µåŠ›æ¨è–¦ ğŸŒŸ
- 75-84åˆ†: æ¨è–¦ ğŸ‘  
- 65-74åˆ†: å¯è€ƒæ…® ğŸ‘Œ
- 55-64åˆ†: æ™®é€š ğŸ¤”
- <55åˆ†: ä¸æ¨è–¦ âŒ

## ç§Ÿå±‹éœ€æ±‚è¦æ ¼

åŸºæ–¼ç§Ÿå±‹éœ€æ±‚æ–‡ä»¶çš„æ ¸å¿ƒæ¢ä»¶ï¼š

### å¿…è¦æ¢ä»¶
- é ç®—: é›…æˆ¿â‰¤$10,000, å¥—æˆ¿â‰¤$15,000
- å¯µç‰©: å¿…é ˆå…è¨±2éš»12æ­²è²“å’ª
- è¨­å‚™: è®Šé »å†·æ°£ã€å†°ç®±ã€å°å¤–çª—ã€æ´—è¡£æ©Ÿ
- åœ°é»: å°åŒ—å¸‚/æ–°åŒ—å¸‚ï¼Œæ·é‹15åˆ†é˜å…§
- æ™‚é–“: 8æœˆå‰å…¥ä½

### æ’é™¤æ¢ä»¶
- ç„¡å°å¤–çª—
- è€èˆŠå£ç™Œ
- ç³Ÿç³•æµ´å®¤
- å£ç´™è£æ½¢
- éš”éŸ³å·®

### åŠ åˆ†é …ç›®
- ç§äººéœ²å°/é™½å°
- ä¹¾æ·¨æ•´æ½”
- ç®¡ç†å“¡
- é›»æ¢¯
- å¯ç«‹å³å…¥ä½

## æŠ€è¡“ç´°ç¯€

### åçˆ¬èŸ²ç­–ç•¥
- éš¨æ©ŸUser-Agentè¼ªæ›
- éš¨æ©Ÿå»¶é² (2-5ç§’)
- è«‹æ±‚é–“éš”æ§åˆ¶
- éŒ¯èª¤é‡è©¦æ©Ÿåˆ¶

### APIé™åˆ¶è™•ç†
- Notion APIé€Ÿç‡é™åˆ¶
- æ‰¹æ¬¡å¯«å…¥å»¶é²
- éŒ¯èª¤æ¢å¾©æ©Ÿåˆ¶
- é‡è¤‡è³‡æ–™æª¢æŸ¥

### æ•ˆèƒ½æœ€ä½³åŒ–
- ä¸¦è¡Œè™•ç†é™åˆ¶
- è¨˜æ†¶é«”ä½¿ç”¨æ§åˆ¶
- è³‡æºè‡ªå‹•æ¸…ç†
- åŸ·è¡Œæ™‚é–“ç›£æ§

## éŒ¯èª¤è™•ç†

### å¸¸è¦‹éŒ¯èª¤
1. **ç¶²è·¯é€£ç·šå•é¡Œ**: è‡ªå‹•é‡è©¦3æ¬¡
2. **Notion APIéŒ¯èª¤**: å»¶é²å¾Œé‡è©¦
3. **çˆ¬èŸ²è¢«é˜»æ“‹**: æ›´æ›User-Agent
4. **è³‡æ–™è§£æå¤±æ•—**: è¨˜éŒ„ä¸¦è·³é

### æ—¥èªŒç³»çµ±
- åŸ·è¡Œé€²åº¦è¿½è¹¤
- éŒ¯èª¤è©³ç´°è¨˜éŒ„
- æ•ˆèƒ½çµ±è¨ˆå ±å‘Š
- æˆåŠŸç‡ç›£æ§

## éƒ¨ç½²å»ºè­°

### æœ¬åœ°é–‹ç™¼
```bash
git clone <repository>
cd 591-notion-automation-Claude Code
npm install
cp .env.example .env
# è¨­å®šç’°å¢ƒè®Šæ•¸
npm run test
```

### ç”Ÿç”¢ç’°å¢ƒ
```bash
# ä½¿ç”¨PM2ç®¡ç†ç¨‹åº
pm2 start src/scheduler.js --name "591-notion-scheduler"
pm2 save
pm2 startup
```

### Dockeréƒ¨ç½²
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
CMD ["npm", "run", "scheduler"]
```

## ç›£æ§èˆ‡ç¶­è­·

### æ—¥å¸¸æª¢æŸ¥
- åŸ·è¡Œæ—¥èªŒæŸ¥çœ‹
- Notionè³‡æ–™åº«æª¢æŸ¥
- éŒ¯èª¤ç‡ç›£æ§
- æ•ˆèƒ½æŒ‡æ¨™è¿½è¹¤

### å®šæœŸç¶­è­·
- çˆ¬èŸ²é¸æ“‡å™¨æ›´æ–°
- ä¾è³´å¥—ä»¶æ›´æ–°
- æ•ˆèƒ½æœ€ä½³åŒ–èª¿æ•´
- å®‰å…¨æ€§æª¢æŸ¥

---

**ğŸš€ ç”± Claude Code é–‹ç™¼**  
**ğŸ“… å»ºç«‹æ—¥æœŸ**: 2025-07-10  
**ğŸ”„ æœ€å¾Œæ›´æ–°**: 2025-07-10  
**ğŸ“‹ ç‰ˆæœ¬**: v1.0.0